<!DOCTYPE html>
<html>
<head>
  <title>Research Topic Network</title>
  <script src="https://unpkg.com/vis-network/standalone/umd/vis-network.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; }
    #network { width: 100%; height: 80vh; border: 1px solid lightgray; margin: 0 auto; }
    #legend { margin: 20px auto; width: 300px; text-align: center; }
    .legend-circle {
      display: inline-block;
      width: 14px;
      height: 14px;
      margin-right: 6px;
      border-radius: 50%;
      vertical-align: middle;
    }
    .legend-label { line-height: 14px; margin-right: 20px; }
   .modal {
    display: none;
    position: fixed;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background-color: rgba(0,0,0,0.5);
    z-index: 9999;
  }

  .modal-content {
    position: fixed;
    top: 50%; left: 50%;
    transform: translate(-50%, -50%);
    background: #fff;
    padding: 20px;
    border-radius: 8px;
    max-width: 80%;
    max-height: 80%;
    overflow-y: auto;
    box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    z-index: 10000;
  }
    .modal-content ul {
      text-align: left;
      padding-left: 20px;
    }
    .modal-content li {
      margin-bottom: 8px;
    }
</style>
</head>
<body>

<h2>Research Topic Network</h2>
<div id="network"></div>

<div id="legend">
  <strong>Click and drag to move; zoom to resize</strong><br>
    <span class="legend-circle" style="background:#6B7F77; border:1px solid #51675d;"></span>
    <span class="legend-label">Click circles to see publications</span>
</div>

<!-- Keep your modal HTML here if you're using popups -->
<div id="myModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="document.getElementById('myModal').style.display='none'">&times;</span>
    <h2 id="modal-title"></h2>
    <ul id="modal-publications"></ul>
  </div>
</div>

<script>
 // Define your nodes with explicit order
const nodes = new vis.DataSet([
   { id: 1, label: 'Epistemology', order: 1, chosen: false },
  { id: 2, label: 'Embodiment', order: 3, chosen: false },
  { id: 3, label: 'Language', order: 5, chosen: false },
  { id: 4, label: 'Pain', order: 7, chosen: false },
  { id: 5, label: 'Epistemology\n×\nEmbodiment', order: 2 },
  { id: 6, label: 'Pain\n×\nEpistemology', order: 4 },
  { id: 7, label: 'Pain\n×\nLanguage', order: 6 },
  { id: 8, label: 'Language\n×\nEmbodiment', order: 8 },
  { id: 9, label: 'Justice', order: 9, chosen: false }
]);

const radius = 300;
const center = { x: 0, y: 0 };

const positions = {
  1: { x: -400, y: 200 },   // Epistemology top left
  2: { x: 400, y: 200 },    // Embodiment top right
  3: { x: 400, y: -200 },   // Language bottom right
  4: { x: -400, y: -200 },  // Pain bottom left
  5: { x: 0, y: 200 },      // E & E
  6: { x: -400, y: 0 },     // E & P
  7: { x: 0, y: -200 },   // P & L
  8: { x: 400, y: 0 },   // E & L
  9: { x: 0, y: 0 }   // Justice
};

Object.entries(positions).forEach(([id, pos]) => {
  nodes.update({
    id: Number(id),
    x: pos.x,
    y: pos.y,
    fixed: { x: true, y: true }
  });
});

const edges = new vis.DataSet([
  { from: 1, to: 3 },
  { from: 1, to: 5 },
  { from: 1, to: 5 },
  { from: 1, to: 2 },
  { from: 1, to: 4 },
  { from: 1, to: 9 },
  { from: 1, to: 3 },
  { from: 3, to: 7 },
  { from: 3, to: 2 },
  { from: 4, to: 7 },
  { from: 2, to: 9 },
  { from: 4, to: 9 },
]);

// -- Network options --
const options = {
  physics: { enabled: false },
  interaction: {
    hover: true,
    hoverConnectedEdges: false,
    selectConnectedEdges: false,
    dragView: true,
    zoomView: true,
    navigationButtons: true
  },
  nodes: {
    shape: 'ellipse',
    size: 30,
    font: { color: 'white', size: 16, face:'Helvetica Neue'},
    color: {
      background: '#6B7F77',
      border: '#51675d'
    }
   },
  edges: { 
    smooth: false, 
    hoverWidth: 0,    // Prevent highlight thickening
    selectionWidth: 0 // Prevent highlight on click
          },
   groups: {
 core: {
   shape: 'box',
   color: {
     background: '#3f5248',  // darker, more muted than #51675d
     border: '#2d3e35'
   },
   font: {
     color: '#bbbbbb',  // light grey instead of bright white
     size: 28,
     face: 'Helvetica Neue'
   }
 }
}
};

const data = { nodes, edges };
const network = new vis.Network(document.getElementById('network'), data, options);

network.on("hoverNode", params => {
  const id = params.node;
  // if core node, set default cursor, else pointer
  if ([1,2,3,4,9].includes(id)) {
    network.canvas.body.container.style.cursor = "default";
  } else {
    network.canvas.body.container.style.cursor = "pointer";
  }
});
network.on("blurNode", params => {
  // reset cursor when leaving any node
network.canvas.body.container.style.cursor = "default";
});
  
  // Apply group assignments 
const coreIds = [1, 2, 3, 4, 9];
coreIds.forEach(id => {
  nodes.update({ id: id, group: 'core' });
});

  
    // -- Pop-up logic --
 // Publication info with HTML-capable data
  const nodeInfo = {
   5: {
        title: 'Epistemology × Embodiment',
        publications: [
          {
            date: '(Forthcoming).',
            title: 'The Double Double-Empathy Problem: The Empathy Deficit and Autistic People’s Moral Experience.',
            journal: 'J Phil Disab',
            url: 'https://link.springer.com/article/10.1007/s11017-025-09729-y',
            clickable: true
          },
          {
            date: '(2025).',
            title: 'Epistemic Justice and the Language-Game of Dignity: From Ontology to Ordinary Language Epistemology.',
            journal: 'Theor Med Bioeth',
            url: 'https://link.springer.com/article/10.1007/s11017-025-09729-y',
            clickable: true
          },
          {
            date: 'and W. Davis. (2025).',
            title: 'The Practice of the Pause: Cultivating Reflection as an	Intrinsic Good in STEM Ethics Pedagogy.',
            journal: 'Teach Eth',
            url: 'https://doi.org/10.5840/tej2025926171',
            clickable: true
          },
          {
            date: 'and W. Davis. (2025).',
            title: 'Society must be Self-Defended: Violence, Wilful Ignorance, and the Embodied Habits of Fascism.',
            journal: 'Martial Arts Stud',
            url: 'https://mas.cardiffuniversitypress.org/articles/10.18573/mas.269',
            clickable: true
          },
           {
            date: '(2024).',
            title: 'Movements that Matter: How Martial Arts Studies Can Reframe the Ethics of First-Blush Empathy.',
            journal: 'Martial Arts Stud',
            url: 'https://doi.org/10.18573/mas.185',
            clickable: true
          },
        ]
      },
    6: {
        title: 'Pain × Epistemology',
        publications: [
           {
            date: '(Forthcoming.)',
            title: 'The Mechanics of Pain: Associationism, Motive, and Action in <em>Heart and Science</em>.',
            journal: 'Science and Literature in the 19th Century',
            clickable: false 
            },
          {
            date: '(Forthcoming).',
            title: 'When “Good-Enough” Treatment is not Good Enough: Pain-Related Motivational Deficit and Epistemic Deflection in the Treatment of Gynecological Pain.',
            journal: 'Ken Inst Eth J',
            clickable: false
          },  
          {
            date: '(2025).',
            title: '‘I am in pain’: neuroethics, philosophy of language, and the representation of pain.',
            journal: 'Theor Med Bioeth',
            url: 'https://doi.org/10.1007/s11017-025-09700-x',
            clickable: true
          },
          {
            date: '(In progress).',
            title: 'Secularism, Christianity, and the Work of Suffering in Conversations about Withdrawal of Lifesaving Treatment',
            journal: 'Clinical Ethics Consultation in a Global Context',
            clickable: false
          },
        ]
      },
    7: {
        title: 'Pain × Language',
        publications: [
                    
          {
            date: 'and M. J. Fitzgerald. (2025).',
            title: 'Joseph K. visits the sick house: how the medical humanities require the medical posthumanities.',
            journal: 'Monash Bioeth Rev',
            url: 'https://doi.org/10.1007/s40592-025-00242-5',
            clickable: true
          },
          {
            date: 'and S. Tanner. (2023).',
            title: 'Under Strange and Evil Stars: Ecologies of Pain in Steinbeck’s <em>To A God Unknown</em>.',
            journal: 'Interdisc Stud Lit Environ',
            url: 'https://doi.org/10.1093/isle/isaa168',
            clickable: true
          },
           {
            date: '(2023).',
            title: 'Second Hand Politics: Sartorial Culture, Socialism, and the Work of the Novel in Walter Besant’s <em>Children of Gibeon</em>.',
            journal: 'Political and Sartorial Styles in Britain and Its	Colonies, 1840–1926',
            url: 'https://manchesteruniversitypress.co.uk/9781526153074/',
            clickable: true
          },
        ]
      },
    8: {
      title: 'Language × Embodiment',
      publications: [
       
        {
            date: '(2022).',
            title: '<em>Reading Bodies in Victorian Fiction: Associationism, Empathy, and Literary Authority</em>.',
            journal: '',
            url: 'https://edinburghuniversitypress.com/book-reading-bodies-in-victorian-fiction.html',
            clickable: true
        },
        {
            date: '(2023).',
            title: 'Speculative Capital, Speculative Reading: The Materialist Ethics of Fiction in Charles Dickens’s <em>Our Mutual Friend</em> and <em>The Pickwick Papers</em>.',
            journal: 'Dickens Stud Annu',
            url: 'https://muse.jhu.edu/article/923257',
            clickable: true
        },
        {
            date: 'and S. Tanner. (2023).',
            title: 'Geography, Affect, and History on the London Streets through Study Abroad.',
            journal: 'Gissing J',
            url: 'https://link.springer.com/chapter/10.1007/978-3-030-93791-1_9',
            clickable: true
        },
        {
            date: '(2020).',
            title: 'False Hair and Paradoxical Performance in <em>The Nether World</em>.',
            journal: 'Victorian Culture and Experiential Learning',
            url: 'http://victorian-studies.net/gissing/newsletter-journal/journal-54-s.pdf',
            clickable: true
        },
        {
            date: '(2016).',
            title: 'Staging the Streets: The Theatricality of Science in fin-de-siècle Martial Arts.',
            journal: 'Victorian Lit Cult',
            url: 'https://doi.org/10.1080/13555502.2017.1306452',
            clickable: true
        },
      ]
    }
  };
 network.on('click', params => {
  if (params.nodes.length === 1) {
    const nodeId = params.nodes[0];
    const info = nodeInfo[nodeId];
    if (!info) return;

    // Zoom and center
    network.focus(nodeId, {
      scale: 1.5,
      animation: { duration: 500, easingFunction: 'easeInOutQuad' }
    });

    setTimeout(() => {
      document.getElementById('modal-title').textContent = info.title;

      const ul = document.getElementById('modal-publications');
      ul.innerHTML = '';

      info.publications.forEach(pub => {
        const li = document.createElement('li');

        if (pub.clickable && pub.url) {
          li.innerHTML = `
            ${pub.date} 
            <a href="${pub.url}" target="_blank" style="color: blue; text-decoration: underline;">
              ${pub.title}
            </a> 
            <em>${pub.journal}</em>
          `;
        } else {
          const titleNode = document.createTextNode(pub.date + ' ' + pub.title + ' ');
          li.appendChild(titleNode);
          if (pub.journal) {
            const em = document.createElement('em');
            em.textContent = pub.journal;
            li.appendChild(em);
          }
          li.style.color = '#000000';  // black for non-clickables
        }

        ul.appendChild(li);
      });

      // show the modal after populating it
      document.getElementById('myModal').style.display = 'block';
    }, 600);  // ← close setTimeout with ), and time in ms

  }  // ← close `if (params.nodes.length === 1)`

}); // ← close network.on('click', …)


</script>
</body>
</html>
